<!DOCTYPE html>
<html>
<head>
    <title>hello michael</title>
    <style>
        .georama-hello {
            font-family: "Georama", sans-serif;
            font-optical-sizing: auto;
            font-weight: 800;
            font-style: normal;
            font-variation-settings: "wdth" 100;
            color: #FFFFFF;
            text-align: center;
            font-size: 24px;
        }
        body {
            background-color: #000000;
            height: 200vh; /* Makes the page scrollable */
        }
        .gif-container {
            position: relative;
            width: 100%;
            height: 100%;
            margin-left: -10px;
            margin-bottom: 40%;
            margin-top: -3%;
        }
        canvas {
            background-color: white;
            width: 50%;
            margin-left: 25%;
            height: 200%;
        }
        video {
            position: absolute;
            left: 25%;
            width: 50%;
            height: auto;
            transition: transform 0.1s; /* Smooth movement */
            pointer-events: none; /* Prevents video from capturing mouse events */
        }

        .fade-image {
            position: absolute;
            left: 75%;
            width: auto;
            height: 40%;
            opacity: 0;
            transition: opacity 0.1s ease; /* Smooth fade effect */
        }
    </style>
</head>
<body>
    <p class="georama-hello" style="font-size:32px;">Truly Brick</p>
    <h1 class="georama-hello" style="font-size:132px; margin-top:-2%;">Truly Bricked</h1>

    <div class="gif-container">
        <canvas></canvas>
        <video id="rotating-video" muted loop>
            <source src="R.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>

        <!-- Images with fade class -->
        <img id="material" src="Material.png" alt="Dynamic Image" class="fade-image">
        <img id="height" src="Stud Height.png" alt="Dynamic Image" class="fade-image">
        <img id="thickness" src="Wall thickness.png" alt="Dynamic Image" class="fade-image">
        <img id="diameter" src="Stud diameter.png" alt="Dynamic Image" class="fade-image">
    </div>

    <script>
        const video = document.getElementById('rotating-video');
        const materialImage = document.getElementById('material');
        const heightImage = document.getElementById('height');
        const thicknessImage = document.getElementById('thickness');
        const diameterImage = document.getElementById('diameter');

        function updateImageVisibility(image, scrollY, startY, endY) {
            if (scrollY > startY && scrollY < endY) {
                image.style.display = 'inline';
                image.style.position = 'fixed';
                image.style.top = '35%';

                // Calculate opacity based on scroll position within range
                const range = endY - startY;
                const opacity = (scrollY - startY) / range;
                image.style.opacity = opacity; // Smooth fade
            } else {
                image.style.opacity = 0; // Fully transparent
                setTimeout(() => {
                    if (image.style.opacity == 0) {
                        image.style.display = 'none';
                        image.style.position = 'absolute';
                    }
                }, 100); // Match the CSS transition duration
            }
        }

        window.addEventListener('scroll', function() {
            const scrollY = window.scrollY;

            // Move the video based on scroll
            video.style.transform = `translateY(${scrollY}px)`;

            if (scrollY >= 300) {
                // Calculate playback position based on scroll
                const scrollHeight = document.body.scrollHeight - window.innerHeight;
                const playbackTime = (((scrollY - 300) / 2) / scrollHeight) * video.duration;

                // Set video currentTime based on scroll position
                video.currentTime = playbackTime;
            }

            // Update visibility for each image with scroll-based fade effect
            updateImageVisibility(materialImage, scrollY, 310, 860);
            updateImageVisibility(heightImage, scrollY, 860, 1410);
            updateImageVisibility(thicknessImage, scrollY, 1410, 1960);
            updateImageVisibility(diameterImage, scrollY, 1960, 2510);
        });
    </script>
</body>
</html>
